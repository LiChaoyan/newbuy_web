<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xoqao.web.dao.ShopMapper" >

    <!--查询所有的商铺-->
    <select id="findAllShops" resultType="com.xoqao.web.bean.shop.Shop">
        SELECT * FROM  shop
    </select>

    <!--添加一个商铺-->
    <select id="saveShops" resultType="com.xoqao.web.bean.shop.Shop">
        insert into shop(shopname,type,stel,city,saddress,scope,subscrib) values('${shopname}','${type}','${stel}','${city}','${saddress}','${scope}','${subscrib}')
    </select>

    <!--根据店主昵称查询店铺固定电话-->
    <select id="selectShopBynickname" resultType="com.xoqao.web.bean.shop.Shop">
       select * from shop where sid = (select sid from boss where nickname='$nickname')
    </select>

    <!--根据店主号查询店铺固定电话-->
    <select id="selectShopBysid" resultType="com.xoqao.web.bean.shop.Shop">
        select * from shop where sid='$sid'
    </select>

    <!--修改店铺固定电话-->
    <update id="updateShop" >
        UPDATE shop stel='${stel}' where shopname='京东方'
    </update>
</mapper>